(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{357:function(t,a,s){"use strict";s.r(a);var n=s(42),r=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"面试题汇总"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#面试题汇总"}},[t._v("#")]),t._v(" 面试题汇总")]),t._v(" "),s("h2",{attrs:{id:"前端缓存机制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前端缓存机制"}},[t._v("#")]),t._v(" 前端缓存机制")]),t._v(" "),s("p",[t._v("前端缓存可以分为强缓存和协商缓存，强缓存有两种方式：Expire和cache-control，协商缓存也有两种方式：last-modified和Etag。")]),t._v(" "),s("h3",{attrs:{id:"强缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#强缓存"}},[t._v("#")]),t._v(" 强缓存")]),t._v(" "),s("p",[t._v("expires和cache-control都是在请求头部，对资源的缓存时间进行限制。强缓存中，用户的普通刷新会使用强缓存，强制刷新，请求回带上cache-control:no-cache和Programa:no-cache。")]),t._v(" "),s("h4",{attrs:{id:"expires"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#expires"}},[t._v("#")]),t._v(" Expires")]),t._v(" "),s("p",[t._v("expires是http1.0的规范。它的值时一个绝对日期时间的GMT时间字符串。如果请求时间在这个时间之前，那么浏览器会从本地缓存中读取数据。")]),t._v(" "),s("h4",{attrs:{id:"cache-control"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cache-control"}},[t._v("#")]),t._v(" cache-control")]),t._v(" "),s("p",[t._v("cache-control是http1.1中的规范，主要通过max-age字段进行判断，max-age的值是一相对时间，代表缓存资源的有效期，当请求发送在有效期内，则使用缓存资源。cache-control有以下几个字段：")]),t._v(" "),s("p",[t._v("no-cache：不使用本地缓存，使用协商缓存")]),t._v(" "),s("p",[t._v("no-store：禁止浏览器进行缓存，用户每次请求都从新下载数据")]),t._v(" "),s("p",[t._v("public：可以被所有用户缓存，包括终端用户和代理服务器")]),t._v(" "),s("p",[t._v("private：只能被终端浏览器缓存")]),t._v(" "),s("hr"),t._v(" "),s("p",[s("strong",[t._v("Expires和cache-control同时存在时，cache-control（max-age）的优先级更高")])]),t._v(" "),s("h3",{attrs:{id:"协商缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#协商缓存"}},[t._v("#")]),t._v(" 协商缓存")]),t._v(" "),s("p",[t._v("协商缓存由response Header中的Etag和Last-Modified进行标识。")]),t._v(" "),s("p",[t._v("etag会给每个文件，打上唯一标签，如果文件的内容发生了改变，那么etag会相应的进行更新")]),t._v(" "),s("p",[t._v("last-modified会记录文件的最后修改时间，如果文件内容没有变化，仅是更新了修改时间，也会重新缓存资源。")]),t._v(" "),s("ul",[s("li",[t._v("与etag对应的是if-none-match，这个if-none-match在request Header中被携带，其值与etag的值相同。")]),t._v(" "),s("li",[t._v("与last-modified对应的是if-modified-since，同样的在request Header中携带，值与last-modified相同。")])]),t._v(" "),s("h4",{attrs:{id:"为什么要有etag呢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么要有etag呢"}},[t._v("#")]),t._v(" 为什么要有Etag呢")]),t._v(" "),s("p",[t._v("如果值使用last-modified足够判断缓存是否有变动，那么为什么还要使用Etag呢？主要有以下三点：")]),t._v(" "),s("ul",[s("li",[t._v("一些文件可能会进行周期性修改，然而并不修改文件内容，只更新修改时间，我们并不希望这样的文件频繁被缓存。")]),t._v(" "),s("li",[t._v("某些文件修改非常频繁，修改时间间隔在秒级一下，last-modified的监测粒度是秒级的，所以无法检测到间隔小于秒级的文件修改。")]),t._v(" "),s("li",[t._v("某些服务器不能精确获得文件最后修改的时间。")])]),t._v(" "),s("h2",{attrs:{id:"http状态码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http状态码"}},[t._v("#")]),t._v(" HTTP状态码")]),t._v(" "),s("h4",{attrs:{id:"_200"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_200"}},[t._v("#")]),t._v(" 200")]),t._v(" "),s("p",[t._v("请求成功")]),t._v(" "),s("h4",{attrs:{id:"_204"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_204"}},[t._v("#")]),t._v(" 204")]),t._v(" "),s("p",[t._v("无内容，服务器成功处理，但未返回内容")]),t._v(" "),s("h4",{attrs:{id:"_300"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_300"}},[t._v("#")]),t._v(" 300")]),t._v(" "),s("p",[t._v("多种选择，返回资源位置的列表，供用户端选择")]),t._v(" "),s("h4",{attrs:{id:"_301"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_301"}},[t._v("#")]),t._v(" 301")]),t._v(" "),s("p",[t._v("永久重定向")]),t._v(" "),s("h4",{attrs:{id:"_302"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_302"}},[t._v("#")]),t._v(" 302")]),t._v(" "),s("p",[t._v("临时重定向，资源只是临时移动")]),t._v(" "),s("h4",{attrs:{id:"_304"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_304"}},[t._v("#")]),t._v(" 304")]),t._v(" "),s("p",[t._v("未修改，客户端请求资源未修改，服务器不会返回资源，客户端根据缓存进行获取缓存数据。")]),t._v(" "),s("h4",{attrs:{id:"_400"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_400"}},[t._v("#")]),t._v(" 400")]),t._v(" "),s("p",[t._v("客户端请求语法错误，服务器无法处理")]),t._v(" "),s("h4",{attrs:{id:"_403"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_403"}},[t._v("#")]),t._v(" 403")]),t._v(" "),s("p",[t._v("客户端无权限访问服务器。服务器拒绝执行")]),t._v(" "),s("h4",{attrs:{id:"_404"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_404"}},[t._v("#")]),t._v(" 404")]),t._v(" "),s("p",[t._v("服务器无法找到请求的资源。")]),t._v(" "),s("h4",{attrs:{id:"_500"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_500"}},[t._v("#")]),t._v(" 500")]),t._v(" "),s("p",[t._v("服务器内部错误，无法处理请求")]),t._v(" "),s("h2",{attrs:{id:"new操作符做了哪些操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#new操作符做了哪些操作"}},[t._v("#")]),t._v(" new操作符做了哪些操作")]),t._v(" "),s("ol",[s("li",[t._v("创建一个新对象")]),t._v(" "),s("li",[t._v("将构造函数的作用域赋值给新对象")]),t._v(" "),s("li",[t._v("执行构造函数，为新对象添加属性")]),t._v(" "),s("li",[t._v("返回这个新对象")])]),t._v(" "),s("p",[t._v("用一个函数来模拟new的操作")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("myNew")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 首先创建一个对象")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" obj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取到构造函数")]),t._v("\n\tcons "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("shift")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arguments"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 由于new出来的实例，是可以访问原型对象的属性的")]),t._v("\n\tobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" cons"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将构造函数的作用域赋值给新对象，并执行构造函数")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ret "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cons")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("arguments"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 考虑到构造函数有返回值得情况")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" ret "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"object"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" ret "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" obj\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"数组扁平化的方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数组扁平化的方法"}},[t._v("#")]),t._v(" 数组扁平化的方法")]),t._v(" "),s("p",[t._v("数组扁平化，根据数组中所包含元素的类型不同，可以采用不同的方法。")]),t._v(" "),s("ul",[s("li",[t._v("如果仅扁平化数值数组，且数组中不含undefined、null、空位（，，），选择toString()和join()无疑是最方便的，方法。")]),t._v(" "),s("li",[t._v("如果数组中，包含对象、函数、undefined、null、空位（，，），选择递归、扩展运算符、reduce、方法都可以取得很好的效果。")]),t._v(" "),s("li",[t._v("ES6的flat()方法，随便用。")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" arr "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("flat")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("arr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" res "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("arr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Array"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isArray")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\tres "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("flat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" res\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// var arr = [[],[1,2,"3",[undefined,null],function(){}],4,[[5,{a:"1",b:[7,8]}]]]')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// [1, 2, "3", undefined, null, ƒ, 4, 5, {…}]')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 0: 1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1: 2")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 2: "3"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3: undefined")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4: null")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 5: ƒ ()")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 6: 4")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 7: 5")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 8: {a: "1", b: Array(2)}')]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用toString()、join()方法存在问题。并不能将含有undefined、null、函数、对象的数组正确扁平化")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// var arr = [[],[1,2,"3",[undefined,null],function(){}],4,[[5,{a:"1",b:[7,8]}]]]')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 返回：["", "1", "2", "3", "", "", "function(){}", "4", "5", "[object Object]"]')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("flat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("arr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" arr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('","')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("flat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("arr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" arr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('","')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ES6,参数为扁平化的层数")]),t._v("\narr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("flat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\narr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("flat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("Infinity")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 扩展运算符")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("flat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("arr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" res "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("some")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" Array"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isArray")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          res "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("arr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" res\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// reduce")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("flat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("arr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ret "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    ret "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reduce")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("b")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Array"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isArray")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("flat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" ret\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 正则，就不写了，限制比较大")]),t._v("\n")])])]),s("h2",{attrs:{id:"eventloop"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#eventloop"}},[t._v("#")]),t._v(" EventLoop")]),t._v(" "),s("p",[t._v("javascript是单线程语言，所有任务都在一个线程上完成。这就造成了如果任务过于耗时，将会产生浏览器假死状态。为了解决这一问题，提出了“EventLoop”解决方案。")]),t._v(" "),s("p",[t._v("EventLoop解决方案，通过设置一个单独的线程，来管理任务队列。")]),t._v(" "),s("p",[t._v("这个“线程”会管理"),s("strong",[t._v("宏队列")]),t._v("和"),s("strong",[t._v("微队列")]),t._v("，这两个待执行任务队列，会按照"),s("em",[t._v("规则")]),t._v("，添加到主线程上的任务执行队列中。")]),t._v(" "),s("h3",{attrs:{id:"宏队列（macrotask）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#宏队列（macrotask）"}},[t._v("#")]),t._v(" 宏队列（macrotask）")]),t._v(" "),s("p",[t._v("一些异步任务回调被称为"),s("strong",[t._v("宏任务")]),t._v("，宏任务会被添加到宏队列中，等待后续被调用，宏任务包括：")]),t._v(" "),s("ul",[s("li",[t._v("setTimeout")]),t._v(" "),s("li",[t._v("setInterval")]),t._v(" "),s("li",[t._v("rAF")]),t._v(" "),s("li",[t._v("I/O")]),t._v(" "),s("li",[t._v("UI rendering")])]),t._v(" "),s("h3",{attrs:{id:"微队列（microtask）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#微队列（microtask）"}},[t._v("#")]),t._v(" 微队列（microtask）")]),t._v(" "),s("p",[t._v("一些异步任务被称为"),s("strong",[t._v("微任务")]),t._v("，微任务会被添加到微队列中，等待后续被调用，微任务包括：")]),t._v(" "),s("p",[s("strong",[t._v("主要就是Promise")])]),t._v(" "),s("ul",[s("li",[t._v("Promise")]),t._v(" "),s("li",[t._v("process.nextTick(Node)")]),t._v(" "),s("li",[t._v("Object.observe")]),t._v(" "),s("li",[t._v("MutationObserver")])]),t._v(" "),s("h3",{attrs:{id:"规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#规则"}},[t._v("#")]),t._v(" 规则")]),t._v(" "),s("p",[t._v("上面提到，不管是同步任务还是异步任务，会按照某种规则添加到任务队列中并执行。规则如下：")]),t._v(" "),s("ol",[s("li",[t._v("执行全局的同步代码，在执行过程中，遇到微任务就将其加入到微队列中，遇到宏任务就加入到宏队列中。")]),t._v(" "),s("li",[t._v("执行全局同步代码后，主线程执行任务队列为空。")]),t._v(" "),s("li",[t._v("将所有微队列中的任务添加到主线程的执行任务队列中，依次执行，直到所有微任务执行完毕，微队列为空，主线程执行队列也为空。"),s("strong",[t._v("注意")]),t._v("：当执行某个微任务的时候，如果又产生了宏任务或者"),s("strong",[t._v("微任务（会添加到当前执行的微任务队列队尾，在本轮执行）")]),t._v("，需要将该任务，添加到相应的队列中，等待执行。")]),t._v(" "),s("li",[t._v("执行完所有的微任务后，微任务队列为空，主线程执行队列也为空。")]),t._v(" "),s("li",[t._v("取出宏队列队头的任务，添加到主线程执行任务队列中，如果该任务执行过程中，又产生了，宏任务或者微任务，需要添加到相应的队列中，等待执行。")]),t._v(" "),s("li",[t._v("执行完毕后，主线程任务队列为空。")]),t._v(" "),s("li",[t._v("重复第3--6步骤。")])]),t._v(" "),s("p",[s("strong",[t._v("注意事项")])]),t._v(" "),s("ul",[s("li",[t._v("宏队列一次只会取出一个任务来执行，执行完毕之后，会去检查微任务队列，如果不为空，那么会执行微任务队列中的任务。")]),t._v(" "),s("li",[t._v("当进行到微任务队列执行时，会一次性执行完所有微任务，包括在微任务执行过程中产生的新的微任务。")]),t._v(" "),s("li",[t._v("UI rendering执行节点，是在所有微任务执行完毕之后，下一个宏任务执行之前。")])]),t._v(" "),s("h2",{attrs:{id:"bfc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bfc"}},[t._v("#")]),t._v(" BFC")]),t._v(" "),s("p",[t._v("Block Formatting Context，块级格式化上下文。它是一个独立的渲染区域，它按照一定的"),s("em",[t._v("规则")]),t._v("进行块内部元素的渲染，内部的渲染不会影响外部元素，同样，一个BFC外部的元素，也不会影响其内部元素的渲染。")]),t._v(" "),s("h3",{attrs:{id:"bfc的布局规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bfc的布局规则"}},[t._v("#")]),t._v(" BFC的布局规则")]),t._v(" "),s("p",[t._v("正是由于存在以下布局规则，所以才会存在边距重叠等问题，也正是由于以下规则，才会解决高度塌陷的问题。")]),t._v(" "),s("ol",[s("li",[t._v("BFC内部的块级元素，会占据文档流的一整行，即会贴合父级元素左边缘垂直排列。")]),t._v(" "),s("li",[t._v("内部的BOX元素的垂直间距由margin决定，"),s("strong",[t._v("同一BFC中的两个BOX会发生垂直边距重叠")]),t._v("。当内部元素设置浮动属性后，左右边距不会重叠。")]),t._v(" "),s("li",[t._v("BFC区域不会与float元素发生重叠。")]),t._v(" "),s("li",[t._v("BFC是页面上独立的渲染区域，不会与其外部元素发生影响。")]),t._v(" "),s("li",[t._v("计算BFC高度的时候，浮动元素也会参与计算。")])]),t._v(" "),s("h3",{attrs:{id:"产生一个bfc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#产生一个bfc"}},[t._v("#")]),t._v(" 产生一个BFC")]),t._v(" "),s("ol",[s("li",[t._v("float的值不为none")]),t._v(" "),s("li",[t._v("position的值不为static或者relative")]),t._v(" "),s("li",[t._v("display的值inline-block、table-cell、flex、inline-flex")]),t._v(" "),s("li",[t._v("overflow的值不会visible")])])])}),[],!1,null,null,null);a.default=r.exports}}]);